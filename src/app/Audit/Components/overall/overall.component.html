<div class="container">
  <div class="row centered">
    <hr>
    <h4 class="text-center">Overall Feedback</h4>
    <!-- Shows the status type (icons) -->
    <div *ngIf = "this.auditService.selectedBatch && checkForChanges()">
    <button class="hiddenButton col-lg-4 col-md-4 col-sm-4"
      ng-disabled="processingNote">
      
      <i class="fa fa-smile-o fa-2x"  [style.color]="happy" [ngClass]="{'isHappy': generatedFace === 1 }" (click)="changeFaceColor(1)" style=""></i>
      <i *ngIf="overallqc.qcStatus == 'Undefined'" ></i>
    </button>
    <button class="hiddenButton col-lg-4 col-md-4 col-sm-4"
      ng-disabled="processingNote">
      <i class="fa fa-meh-o fa-2x" [style.color]="meh" [ngClass]="{'isMeh': generatedFace === 2 }" (click)="changeFaceColor(2)" style=""></i>
      <i *ngIf="overallqc.qcStatus == 'Average'"></i>
    </button>
    <button class="hiddenButton col-lg-4 col-md-4 col-sm-4"
      ng-disabled="processingNote">
      <i class="fa fa-frown-o fa-2x" [style.color]="sad" [ngClass]="{'isSad': generatedFace === 3 }" (click)="changeFaceColor(3)" style=""></i>
      <i *ngIf="overallqc.qcStatus == 'Poor'"></i>
    </button>
  </div>
  
    <!-- Show the QC feedback notes. Clicking textfield, editing and overwriting it will 
      trigger the ng-blur to save the data  -->
    <div class="form-group col-lg-12 col-md-12 col-sm-12 overall-feedback">
      <textarea [disabled]="this.auditService.processingNote"
          [(ngModel)]="overallqc.content" class="form-control ng-pristine ng-untouched ng-valid-maxlength ng-not-empty ng-valid ng-valid-required" 
          id="qcBatchNotes" #qcBatchNotes (blur)="saveQCNotes()" maxlength="4000" placeholder="Enter your overall feedback on the batch" 
          required="" ng-disabled="processingNote" style="text-align:left;">{{overallqc.content}}</textarea>
      <!-- QC Save burrito button (Burrito: wrap up edited objects, pack it tightly in the skin, and
        save it all in your stomach/database -->
      <div class="save-button-wrapper">
        <a (click)="saveQCandTrainee()" *ngIf="showFloppy" class="save-button fade-in"> <span class="fa fa-floppy-o fa-2x"
            aria-hidden="true"></span>Save
        </a>
        <!-- Events after clicking save button -->
        <div class="spinner fa-style ng-hide" *ngIf="showSaving">
          <i style="color: #F26925;" role="button" class="fa fa-spinner fa-spin fa-2x" aria-hidden="true"></i>
        </div>
        <div id="checkMark" class="spinner fa-style ng-hide" *ngIf="showCheck">
          <i role="button" class="fa fa-check fa-2x" aria-hidden="true"></i>
        </div>
      </div>
    </div>
  </div>
</div>


